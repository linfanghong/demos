<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="button">持续点击</button>
    <script>
      const debounce = (func, time) => {
        let timer = 0
        let flag = false
        return function () {
          window.clearTimeout(timer)
          if (!flag) {
            func()
          } else {
            timer = window.setTimeout(() => {
              flag = false
            }, time)
          }
          flag = true
        }
      }

      const throttle = (func, time) => {
        let timer = 0
        let flag = false
        return function () {
          if (!flag) {
            func()
            flag = true
            timer = setTimeout(() => {
              flag = false
            }, time)
          }
        }
      }

      const button = document.querySelector('#button')
      button.addEventListener(
        'click',
        throttle(() => {
          console.log('111')
        }, 2e3)
      )
    </script>
  </body>
</html>
